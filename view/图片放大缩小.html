<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<canvas id="bargraphCanvas" width="503" height="504"></canvas>
	</body>
	<script>
		var canvas, context;
		var img, //图片对象
			imgIsLoaded, //图片是否加载完成;
			imgX = 0,
			imgY = 0,
			imgScale = 0.5;

		(function int() {
			canvas = document.getElementById('bargraphCanvas'); //画布对象
			context = canvas.getContext('2d'); //画布显示二维图片
			loadImg();
		})();

		function loadImg() {
			img = new Image();
			img.onload = function() {
				imgIsLoaded = true;
				drawImage();
			}
			img.src = '../img/circle.png';
		}

		function drawImage() {
			context.clearRect(0, 0, canvas.width, canvas.height);
			context.drawImage(
				img, //规定要使用的图像、画布或视频。
				0, 0, //开始剪切的 x 坐标位置。
				img.width, img.height, //被剪切图像的高度。
				250, 250, //在画布上放置图像的 x 、y坐标位置。
				img.width * imgScale, img.height * imgScale //要使用的图像的宽度、高度
			);
		}

		var index = 0;
		setInterval(function() {

			imgScale = index / 200;
			drawImage();
			if(index > 100) {
				index = 0;
			}
			index++;
		}, 50);
	</script>

</html>